<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>MinasMazar's blog ~ Minemacs</title>
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<script>
  window.MathJax = {
    tex: {
      ams: {
        multlineWidth: '85%'
      },
      tags: 'ams',
      tagSide: 'right',
      tagIndent: '.8em'
    },
    chtml: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    svg: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    output: {
      font: 'mathjax-modern',
      displayOverflow: 'overflow'
    }
  };
</script>

<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="/"> UP </a>
 |
 <a accesskey="H" href="/"> HOME </a>
</div><div id="content" class="content">
<h1 class="title">MinasMazar's blog ~ Minemacs</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org232e64b">Introduction</a></li>
<li><a href="#org453df62">User information</a></li>
<li><a href="#org0a35530">Package Manager</a></li>
<li><a href="#orga09f5f1">Minemacs layer</a></li>
<li><a href="#orgd580b5e">Main settings</a></li>
<li><a href="#orgcacc3b3">Appearance</a>
<ul>
<li><a href="#orgef62857">Window settings</a></li>
<li><a href="#orge5a8ce5">Transparency</a></li>
<li><a href="#org5b6f967">Modeline</a></li>
<li><a href="#orge1b1ac8">Custom faces</a></li>
<li><a href="#org35114c7">Icons</a></li>
</ul>
</li>
<li><a href="#orgd7db9f4">Tabs, frames and sessions</a></li>
<li><a href="#org244e3da">Org-mode 🦄</a>
<ul>
<li><a href="#org27e17b4">Editing and Appearance</a></li>
<li><a href="#orgfaff8da">Agenda and diary</a></li>
<li><a href="#orgf63ff1d">Capture and templates</a></li>
<li><a href="#blorg-section">Blorg ~ let's blog with org-mode!</a></li>
<li><a href="#org792800e">Babel</a></li>
<li><a href="#org1135a22">Roam</a></li>
<li><a href="#orgd94446e"><span class="todo IN_PROGRESS">IN PROGRESS</span> Links</a></li>
</ul>
</li>
<li><a href="#org28a5004">Minibuffer and completions</a></li>
<li><a href="#org63703ea">Dired</a></li>
<li><a href="#org1464dbb">Files and buffer</a>
<ul>
<li><a href="#org18dc192">Ibuffer</a></li>
<li><a href="#org8e42d5d">Imenu</a></li>
</ul>
</li>
<li><a href="#org2e9c3f7">Contextual actions (embark)</a></li>
<li><a href="#org0c815db">Eshell</a></li>
<li><a href="#orgc9e4d36">Editing settings</a></li>
<li><a href="#orge493eaa">History</a></li>
<li><a href="#org9536d78">Project</a></li>
<li><a href="#org60c7428">Autocompletion</a></li>
<li><a href="#org703caa1">Modifier keys, keybindings, shortcuts</a>
<ul>
<li><a href="#org9c76a31">Custom keybindings</a>
<ul>
<li><a href="#org19a4c35">For not graphical client (i.e. emacs -nw)</a></li>
</ul>
</li>
<li><a href="#org1da2107">Modal editing (god-mode)</a></li>
<li><a href="#orgb979547">Translations keys</a></li>
<li><a href="#org8f6f00f">Which key</a></li>
<li><a href="#org9343f3f">Super key</a></li>
<li><a href="#orga4c94cf">Hail Hydra!</a></li>
</ul>
</li>
<li><a href="#orgc02efa8">Bookmarks</a></li>
<li><a href="#orgd2407e6">Web browsing</a></li>
<li><a href="#orgeb46559">Troubleshooting</a>
<ul>
<li><a href="#org84c1d11">MacOS compatibility&#xa0;&#xa0;&#xa0;<span class="tag"><span class="portability">portability</span></span></a></li>
</ul>
</li>
<li><a href="#orgb585a22">Extra modules</a>
<ul>
<li><a href="#org67d8551">Utils</a>
<ul>
<li><a href="#org0e7571f">Easily record a wav file</a></li>
<li><a href="#org378668f">Espeak integration</a></li>
</ul>
</li>
<li><a href="#orgdd46a32">Email and News</a>
<ul>
<li><a href="#org7c5f3a6">Gnus</a></li>
<li><a href="#org90e78a9">Elfeed</a></li>
<li><a href="#orgaf7a6b5">Mu4e</a></li>
</ul>
</li>
<li><a href="#org21871d7">Multimedia</a>
<ul>
<li><a href="#orgbbe0f90">Bongo</a></li>
<li><a href="#orgd149f6f">Empv</a></li>
<li><a href="#org4d13a39">Emms</a></li>
</ul>
</li>
<li><a href="#org767f917">IDE</a>
<ul>
<li><a href="#org8bb5b55">Versioning with Magit</a></li>
<li><a href="#orga9a988c">Languages support</a></li>
<li><a href="#orgcb8d45f">autoinsert.el</a></li>
<li><a href="#orga3adb2e">Terminal emulator</a></li>
<li><a href="#orgdfb0a84">Yasnippet</a></li>
<li><a href="#org16e91d2">Docker</a></li>
<li><a href="#org3f4d0d0">Treemacs</a></li>
</ul>
</li>
<li><a href="#org9daf86a">Appearance</a>
<ul>
<li><a href="#org1075ac3">Doom modeline</a></li>
</ul>
</li>
<li><a href="#org26e6291">Consult</a></li>
<li><a href="#org05f0f3f">Internet</a>
<ul>
<li><a href="#orgc340f9b">Gemini</a></li>
<li><a href="#org3fbf45a">engine-mode</a></li>
</ul>
</li>
<li><a href="#org4ec03f6">Load modules!</a></li>
</ul>
</li>
<li><a href="#orge332cab">Custom file</a></li>
<li><a href="#org6fa0dda">Server mode</a></li>
<li><a href="#org6fc5c2f">Docs</a>
<ul>
<li><a href="#orgfbf65e5">Regular Expression Syntax</a></li>
<li><a href="#org281de90">Vectors</a></li>
<li><a href="#org9eedf06">Timers</a></li>
<li><a href="#orgdaf426c">(interactive) functions</a></li>
<li><a href="#org45c21bc">Buffer management</a></li>
<li><a href="#org44e79dd">Commands, functions and variables</a></li>
<li><a href="#org12196a2">Libaries</a></li>
<li><a href="#orgac9cc0f">Useful topics</a></li>
</ul>
</li>
<li><a href="#org6b8853c">Credits</a></li>
</ul>
</div>
</div>

<div id="outline-container-org232e64b" class="outline-2">
<h2 id="org232e64b">Introduction</h2>
<div class="outline-text-2" id="text-org232e64b">
<p>
This is my Emacs configuration and aims to be as minimal as possible, trying to adhere Emacs standards and being more vanilla as possible.
It also consists in a literate configuration file.
</p>
</div>
</div>

<div id="outline-container-org453df62" class="outline-2">
<h2 id="org453df62">User information</h2>
<div class="outline-text-2" id="text-org453df62">
<p>
Remember to set my name and email address! You can use the standard Emacs customization.
</p>

<pre class="example" id="org0ee426f">
(setq user-full-name "Your username"
      user-mail-address "username@domain.net")
</pre>
</div>
</div>

<div id="outline-container-org0a35530" class="outline-2">
<h2 id="org0a35530">Package Manager</h2>
<div class="outline-text-2" id="text-org0a35530">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'load-path "~/.emacs.d/manual-packages/")
(require 'package)

(setq package-archives '(("melpa" . "https://melpa.org/packages/")
                         ("elpa" . "https://elpa.gnu.org/packages/")
                         ("nongnu" . "https://elpa.nongnu.org/nongnu/")))

(require 'use-package)
(require 'use-package-ensure)
(setq use-package-always-ensure t
      package-enable-at-startup t)
(package-initialize)
</pre>
</div>
</div>
</div>

<div id="outline-container-orga09f5f1" class="outline-2">
<h2 id="orga09f5f1">Minemacs layer</h2>
<div class="outline-text-2" id="text-orga09f5f1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq minemacs-dir "~/minasmazar.github.io/")

(defun minemacs-pathname (&amp;rest pathnames)
  "Returns the path of the given pathname within the minemacs dir"
  (string-join (append (list minemacs-dir) pathnames) "/"))

(defun minemacs-config-file ()
  "Returns the path of the minemacs config file (i.e. this file)"
  (minemacs-pathname "minemacs.org"))

(defun minemacs/org-babel-load-file (&amp;optional file)
  (interactive "bBuffer: ")
  (org-babel-load-file file))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd580b5e" class="outline-2">
<h2 id="orgd580b5e">Main settings</h2>
<div class="outline-text-2" id="text-orgd580b5e">
<p>
Performance tweaking for modern machines
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq gc-cons-threshold 100000000)
(setq read-process-output-max (* 1024 1024))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq auth-sources '("~/.authinfo.gpg")
      auto-save-file-name-transforms `((".", "~/.emacs-saves" t))
      backup-inhibited t ;; seems not working, so next line is needed
      calendar-mark-diary-entries-flag t
      completion-auto-select t
      completion-ignore-case t
      read-file-name-completion-ignore-case t
      read-buffer-completion-ignore-case t
      epa-pinentry-mode 'loopback
      global-auto-revert-non-file-bufffers t
      indent-tabs-mode nil
      initial-buffer-choice 'eshell
      make-backup-files nil
      org-agenda-include-diary t
      ring-bell-function 'ignore
      shr-inhibit-images t
      tab-always-indent 'complete
      use-dialog-box nil
      visible-bell nil
      auto-save-default nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcacc3b3" class="outline-2">
<h2 id="orgcacc3b3">Appearance</h2>
<div class="outline-text-2" id="text-orgcacc3b3">
</div>
<div id="outline-container-orgef62857" class="outline-3">
<h3 id="orgef62857">Window settings</h3>
<div class="outline-text-3" id="text-orgef62857">
<p>
Disable bars.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(menu-bar-mode -1)
(tool-bar-mode -1)
(scroll-bar-mode -1)
</pre>
</div>

<p>
Window placement. Thanks to <a href="https://protesilaos.com/codelog/2024-02-08-emacs-window-rules-display-buffer-alist/">Prot for this video</a>.
</p>

<div class="org-src-container">
<pre class="src src-elisp">(setq display-buffer-alist
      '(
        ("\\*Occur\\*"
         (display-buffer-reuse-mode-window display-buffer-below-selected)
         (dedicated . t)
         (body-function . (lambda (window) (select-window window))))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge5a8ce5" class="outline-3">
<h3 id="orge5a8ce5">Transparency</h3>
<div class="outline-text-3" id="text-orge5a8ce5">
<div class="org-src-container">
<pre class="src src-elisp">(set-frame-parameter (selected-frame) 'alpha '(92 . 50))
(add-to-list 'default-frame-alist '(alpha . (85 . 50)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org5b6f967" class="outline-3">
<h3 id="org5b6f967">Modeline</h3>
<div class="outline-text-3" id="text-org5b6f967">
<p>
Customize the modeline by showing the current time.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(display-time-mode 1)
</pre>
</div>
</div>
</div>

<div id="outline-container-orge1b1ac8" class="outline-3">
<h3 id="orge1b1ac8">Custom faces</h3>
<div class="outline-text-3" id="text-orge1b1ac8">
<p>
A good starting point to deal with Emacs faces and theme:
</p>
<ul class="org-ul">
<li><a href="https://www.youtube.com/watch?v=qR8JRYr4BKE">https://www.youtube.com/watch?v=qR8JRYr4BKE</a></li>
<li><p>
<a href="https://www.youtube.com/watch?v=1jCNrpp_STM">https://www.youtube.com/watch?v=1jCNrpp_STM</a>
</p>

<pre class="example" id="org4e9304e">
(set-face-attribute 'vertico-current nil :height 1.4)
</pre></li>
</ul>
</div>
</div>
<div id="outline-container-org35114c7" class="outline-3">
<h3 id="org35114c7">Icons</h3>
<div class="outline-text-3" id="text-org35114c7">
<div class="org-src-container">
<pre class="src src-elisp">(use-package all-the-icons)
(use-package all-the-icons-dired
  :after all-the-icons
  :hook
  (dired-mode . (lambda () (all-the-icons-dired-mode t))))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgd7db9f4" class="outline-2">
<h2 id="orgd7db9f4">Tabs, frames and sessions</h2>
<div class="outline-text-2" id="text-orgd7db9f4">
<p>
The <code>tabspaces</code> session handle tab isolation unsing frames or tabs. Also, is able to store and reload active sessions. I'm still evalauting its usefulness.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package tabspaces
  :init
  (require 'tabspaces)
  :bind
  ("s-," . tabspaces-command-map))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-elisp">(global-set-key (kbd "s-\\") #'other-frame)
</pre>
</div>
</div>
</div>

<div id="outline-container-org244e3da" class="outline-2">
<h2 id="org244e3da"><a href="https://orgmode.org/">Org-mode</a> 🦄</h2>
<div class="outline-text-2" id="text-org244e3da">
</div>
<div id="outline-container-org27e17b4" class="outline-3">
<h3 id="org27e17b4">Editing and Appearance</h3>
<div class="outline-text-3" id="text-org27e17b4">
<p>
This are some shotctus I like to have in place to easily rearrange paragaphs in <code>org-mode</code>. 
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'org)
;(define-key org-mode-map (kbd "M-p") #'org-move-subtree-up)
;(define-key org-mode-map (kbd "M-n") #'org-move-subtree-down)
</pre>
</div>

<p>
Interesting packages you can try to improve your <code>org-mode</code> experience (you can just <code>C-h P</code> on the package name for more info ;) )
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package olivetti :after org)
</pre>
</div>

<p>
Here's some useful resources; both blogs are really cool 🕺 and realized through Hugo.
</p>

<ul class="org-ul">
<li><a href="https://zzamboni.org/post/beautifying-org-mode-in-emacs/">https://zzamboni.org/post/beautifying-org-mode-in-emacs/</a> uses <a href="https://ox-hugo.scripter.co/">ox-hugo</a></li>
<li><a href="https://sophiebos.io/posts/beautifying-emacs-org-mode/">https://sophiebos.io/posts/beautifying-emacs-org-mode/</a> uses <a href="https://github.com/adityatelange/hugo-PaperMod/">Hugo PaperMod</a></li>
</ul>

<p>
As mentioned in the first link, <code>spacemacs-theme</code> has a good look 'n feel for <b>org</b> buffers. If you don't like it, just comment-in those lines, so it won't be downloaded.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package spacemacs-theme)
</pre>
</div>

<p>
Another good theme optimized for <code>org-mode</code> is <a href="https://github.com/fniessen/emacs-leuven-theme">leuven</a>.
</p>
</div>
</div>

<div id="outline-container-orgfaff8da" class="outline-3">
<h3 id="orgfaff8da">Agenda and diary</h3>
<div class="outline-text-3" id="text-orgfaff8da">
<p>
A good starting point, apart from the official documentation or worg, is <a href="https://www.johnborwick.com/2019/02/23/org-todo-setup.html">this post</a>.
</p>

<p>
Get diary and agenda files from my Dropbox.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq diary-file "~/Dropbox/org/diary"
      org-agenda-files '("~/Dropbox/org/")
      org-default-notes-file "~/Dropbox/org/inbox" 
      org-todo-keywords '((sequence "TODO" "IN PROGRESS" "|" "DONE")))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf63ff1d" class="outline-3">
<h3 id="orgf63ff1d">Capture and templates</h3>
<div class="outline-text-3" id="text-orgf63ff1d">
<p>
Here's an example of <code>org-capture-templates</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package org
  :config
  (setq org-capture-templates
        '(("t" "todo" entry (file+headline "~/Dropbox/org/inbox.org" "Tasks")
           "* TODO %?\n %i\n  %a")
          ("b" "bookmark" entry (file "~/Dropbox/org/bookmarks.org")
           "* %?\n\n %a" :prepend t)
          ("j" "journal" entry (file+datetree "~/Dropbox/org/journal.org")
           "* %?\nEntered on %U\n %i\n %a" :jump-to-captured t))
          org-agenda-custom-commands
          '(("w" "Work" tags "work"))))
</pre>
</div>
</div>
</div>

<div id="outline-container-blorg-section" class="outline-3">
<h3 id="blorg-section">Blorg ~ let's blog with org-mode!</h3>
<div class="outline-text-3" id="text-blorg-section">
<p>
You can write your own blog using <code>org</code> pages and exports it using <code>org-publish</code> feature. The package <code>ox-rss</code> is needed if you want to generate a RSS (it exports the <code>org-rss-publish-to-rss</code> function). Include the <a href="https://git.sr.ht/~abrahms/ox-gemini"><code>ox-gemini</code></a> package if you want to export your org files also in the <code>.gmi</code> format in order to deploy your blog as a <a href="https://gemini.circumlunar.space/">gemini capsule</a>. It provides the <code>org-gemini-publish-to-gemini</code>. Useful resources:
</p>

<ul class="org-ul">
<li><a href="https://orgmode.org/">org-mode</a></li>
<li><a href="https://github.com/fniessen/org-html-themes">https://github.com/fniessen/org-html-themes</a></li>
<li><a href="https://pavpanchekha.com/blog/org-mode-publish.html">https://pavpanchekha.com/blog/org-mode-publish.html</a></li>
<li><a href="https://thibaultmarin.github.io/blog/posts/2016-11-13-Personal_website_in_org.html#coderef-html-foreword">https://thibaultmarin.github.io/blog/posts/2016-11-13-Personal_website_in_org.html#coderef-html-foreword</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package ox-rss)
(use-package ox-gemini)

(mapcar (lambda (project)
          (add-to-list 'org-publish-project-alist project))
        '(
          ("blorg:static"
           :base-directory "~/minasmazar.github.io/"
           :base-extension ".*"
           :publishing-directory "~/minasmazar.github.io/"
           :recursive t
           :publishing-function org-publish-attachment)
          ("blorg:org"
           :recursive t
           :base-directory "~/minasmazar.github.io/"
           :base-extension "org"
           :publishing-function org-html-publish-to-html
           :publishing-directory "~/minasmazar.github.io/"
           :with-author nil
           :with-creator t
           :with-toc t
           :html-link-up "/"
           :html-link-home "/"
           ;; :html-preamble minemacs-blorg-html-preamble
           :section-numbers nil
           :time-stamp-file nil)
          ("blorg:publish"
           :base-directory "~/minasmazar.github.io/"
           :publishing-directory "~/minasmazar.github.io/"
           :base-extension "any"
           :publishing-function org-publish-attachment
           :exclude ".*"
           :completion-function minemacs-blorg-autopublish)
          ("blorg"
           :components ("blorg:static" "blorg:org" "blorg:publish"))))
</pre>
</div>

<p>
Now define some handy <code>org-capture</code> templates!
</p>

<div class="org-src-container">
<pre class="src src-elisp">(mapcar (lambda (entry) (add-to-list 'org-capture-templates entry))
        '(("B" "Blorg: bookmark" entry (file "~/minasmazar.github.io/pages/bookmarks.org")
           "* %?\n\n %a" :prepend t)
          ("J" "Blorg: journal" entry (file+datetree "~/minasmazar.github.io/pages/journal.org")
           "* %?\nEntered on %U\n %i\n %a" :jump-to-captured t)))
</pre>
</div>

<p>
Here we define the function that uses <code>git</code> to publish my static site to my personal Github pages. The pre-requisite is that the destitnation directory exists and has a git repo already initialized and the remote already set up.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defcustom minemacs-blorg-autopublish nil
  "Define if autopublish feature is enabled. Used in the function =minemacs-blorg-autopublish=")

(defun minemacs-blorg-html-preamble ()
  "&lt;div&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=\"/\"&gt;Home&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;")

(defun minemacs-blorg-autopublish (options)
  (let* ((default-directory (plist-get options :publishing-directory)))
    (if minemacs-blorg-autopublish
  (minemacs-add-commit-and-push default-directory)
(message "[blorg] autopublish simulation"))))

(defun minemacs-add-commit-and-push (directory)
  "Add all files, commit and push"
  (cd directory)
  (let* ((commit-msg (format "Autopublish [%s]" (current-time-string)))
   (command (format "git add . ; git commit -m '%s' ; git push origin master --force" commit-msg)))
    (shell-command command)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org792800e" class="outline-3">
<h3 id="org792800e">Babel</h3>
<div class="outline-text-3" id="text-org792800e">
<p>
Configuration stolen from <a href="https://orgmode.org/worg/org-contrib/babel/languages/ob-doc-shell.html">here</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(org-babel-do-load-languages
 'org-babel-load-languages
 '((shell . t)
   (eshell .t)
   (restclient . t)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org1135a22" class="outline-3">
<h3 id="org1135a22">Roam</h3>
<div class="outline-text-3" id="text-org1135a22">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package org-roam
  :custom
  (org-roam-directory (file-truename "~/Dropbox/org-roam/")))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd94446e" class="outline-3">
<h3 id="orgd94446e"><span class="todo IN_PROGRESS">IN PROGRESS</span> Links</h3>
<div class="outline-text-3" id="text-orgd94446e">
<p>
Every link in <code>org-mode</code> has a prefix that define a <i>type</i> (<code>img:logo.png</code> <code>file:about.org</code>). Every type should provide two functions for <i>follow</i> and <i>export</i> actions. This snippet comes from <a href="https://stackoverflow.com/questions/14684263/how-to-org-mode-image-absolute-path-of-export-html">this SO thread</a>.
</p>

<div class="org-src-container">
<pre class="src src-elisp">(defun org-custom-link-raw-relative-follow (path)
  (org-open-file-with-emacs
   (format "./%s" path)))

(defun org-custom-link-raw-relative-export (path desc format)
  (cond
   ((eq format 'html)
    (format "&lt;a href=\"/%s\" alt=\"%s\"/&gt;%s&lt;/a&gt;" path desc desc))))

(org-add-link-type "raw-relative" 'org-custom-link-img-follow 'org-custom-link-img-export)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org28a5004" class="outline-2">
<h2 id="org28a5004">Minibuffer and completions</h2>
<div class="outline-text-2" id="text-org28a5004">
<p>
some links (prot,systemcrafters).
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq completion-styles '(initials flex)
      completion-show-help nil
      enable-recursive-minibuffers t
      completions-format 'one-column
      completions-max-height 11)

(define-key minibuffer-local-completion-map (kbd "&lt;tab&gt;") #'switch-to-completions)
;(define-key minibuffer-local-completion-map (kbd "SPC") #'self-insert-command)
(define-key completion-list-mode-map (kbd "e") #'switch-to-minibuffer)
;(define-key minibuffer-local-completion-map (kbd "C-l") #'abort-minibuffers)
;(define-key completion-list-mode-map (kbd "C-l") #'quit-window)
;(define-key completion-list-mode-map (kbd "C-j") #'choose-completion)
</pre>
</div>

<p>
and install orderless
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package orderless
  :custom
  (completion-styles '(orderless partial-completion)))
</pre>
</div>

<p>
If you don't like the standard Emacs completion system, you can activate <code>vertico-mode</code> or the mighty <code>mct</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package vertico
  :init
  (vertico-mode t)
  (setq vertico-count 20
        vertico-resize t
        vertico-cycle t))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-elisp">(mct-minibuffer-mode 1)
</pre>
</div>

<p>
Otherwise you can experiment sort of <i>more advanced</i> UX with <code>helm</code> (remote the <code>:tangle no</code> to save activate in next sessions within your <code>init.el</code>).
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package helm
  :config
  (helm-mode 1)
  :bind
  ("M-x" . #'helm-M-x))
</pre>
</div>
</div>
</div>

<div id="outline-container-org63703ea" class="outline-2">
<h2 id="org63703ea">Dired</h2>
<div class="outline-text-2" id="text-org63703ea">
<p>
A couple of words about dired and some links (prot,systemcrafters).
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'dired)
(setq dired-dwim-target t
dired-listing-switches "-alth"
dired-omit-files "\\`[.]?#\\|\\`[.][.]?")
(define-key dired-mode-map (kbd "q") #'kill-this-buffer)
(define-key dired-mode-map (kbd "M-s F") #'find-name-dired)
(define-key dired-mode-map (kbd "W") #'wdired-change-to-wdired-mode)
(define-key dired-mode-map (kbd "H") #'dired-omit-mode)
(define-key dired-mode-map (kbd "M-p") (lambda () (interactive) (dired-previous-line 1) (dired-display-file)))
(define-key dired-mode-map (kbd "M-n") (lambda () (interactive) (dired-next-line 1) (dired-display-file)))
(add-hook 'dired-mode-hook #'dired-hide-details-mode)
(add-hook 'dired-mode-hook #'dired-omit-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org1464dbb" class="outline-2">
<h2 id="org1464dbb">Files and buffer</h2>
<div class="outline-text-2" id="text-org1464dbb">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd "C-x C-f") #'find-file-at-point)
</pre>
</div>
</div>

<div id="outline-container-org18dc192" class="outline-3">
<h3 id="org18dc192">Ibuffer</h3>
<div class="outline-text-3" id="text-org18dc192">
<p>
To occur among marked buffers in <code>ibuffer</code> press <code>O</code>.
</p>
</div>
</div>

<div id="outline-container-org8e42d5d" class="outline-3">
<h3 id="org8e42d5d">Imenu</h3>
<div class="outline-text-3" id="text-org8e42d5d">
<p>
Define a matcher for <code>eww-mode</code> in order (vanilla Emacs does not priovide one). <a href="https://www.emacswiki.org/emacs/ImenuMode#h5o-12">This wiki</a> was helpful.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq eww-imenu-heading-expression
      '((nil "^[[:space:]]*?\\*\\(.*\\)" 1)
        (nil "^\\(\\w+\\)" 1)))

(add-hook 'eww-mode-hook
          (lambda ()
            (setq imenu-generic-expression eww-imenu-heading-expression)))
</pre>
</div>

<p>
In the same way, I define a matcher for <code>eshell</code> mode.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq eshell-imenu-commands-expression
      '((nil "^~ \\$\\(.*\\)" 1)))

(add-hook 'eshell-mode-hook
          (lambda ()
            (setq imenu-generic-expression eshell-imenu-commands-expression)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq minemacs/imenu-commands-expression
      '((nil "^\\([[:alnum:]]].+?\\)\n" 1)))

(add-hook 'fundamental-mode
          (lambda ()
            (setq imenu-generic-expression minemacs/imenu-commands-expression)))
(add-hook 'special-mode
          (lambda ()
            (setq imenu-generic-expression minemacs/imenu-commands-expression)))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org2e9c3f7" class="outline-2">
<h2 id="org2e9c3f7">Contextual actions (embark)</h2>
<div class="outline-text-2" id="text-org2e9c3f7">
<p>
Add some links (prot,systemcrafter).
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package embark
  :config
  (add-to-list 'god-exempt-major-modes 'embark-mode)
  :bind*
  ("C-," . embark-act)
  (:map embark-general-map
        ("C-w" . browse-url))
  (:map embark-identifier-map
        ("R" . query-replace)
        ("O" . multi-occur-in-matching-buffers)
        ("c" . browse-url-chrome)
        ("f" . browse-url-firefox))
  (:map embark-url-map
        ("c" . browse-url-chrome)
        ("f" . browse-url-firefox))
  (:map  embark-file-map
         ("p" . project-find-file)
         ("b" . project-switch-to-buffer)
         ("," . append-to-previous-buffer)))
</pre>
</div>

<p>
Other resources:
</p>
<ul class="org-ul">
<li><a href="https://jao.io/blog/embarking-videos.html">custom Embark finders/targets, from jao.io blogpost</a></li>
<li><a href="https://www.joyk.com/dig/detail/1610293147365882">https://www.joyk.com/dig/detail/1610293147365882</a></li>
</ul>
</div>
</div>

<div id="outline-container-org0c815db" class="outline-2">
<h2 id="org0c815db">Eshell</h2>
<div class="outline-text-2" id="text-org0c815db">
<p>
Set eshell aliases from my Dropbox.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq eshell-aliases-file "~/Dropbox/minemacs/eshell-aliases") 
</pre>
</div>

<p>
This is an example of an aliases file.
</p>

<pre class="example" id="orge6e7df3">
# a quick list of useful/useless aliases, just for demo purposes xD
alias aliases find-file $eshell-aliases-file
alias j (call-interactively #'bookmark-jump)
alias q kill-this-buffer
alias vte minemacs-vterm-exec $*
alias ga git add .
alias gl git log
alias gs git status
alias g magit-status
alias v view-file $1
alias aliases view-file $eshell-aliases-file
alias l ls -lha $1
alias d dired-jump
alias b ibuffer
alias rr bin/rake restart
alias mya 'cat myfile &gt; (switch-to-buffer "*my-buf*")'
</pre>

<p>
Open eshell in the current directory
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun minemacs/eshell-here ()
  "Open eshell in the current directory"
  (interactive)
  (let ((dir (file-name-directory default-directory)))
    (eshell dir)))

(defun minemacs-eshell-load-local-source ()
  (let* ((source-file (concat default-directory ".source.esh")))
    (if (file-exists-p source-file)
        (eshell/source source-file 'noerror))))

(add-hook 'eshell-directory-change-hook 'minemacs-eshell-load-local-source)
</pre>
</div>

<p>
<a href="https://howardism.org/Technical/Emacs/eshell-present.html">Here's an interesting article on Eshell</a>.
</p>
</div>
</div>

<div id="outline-container-orgc9e4d36" class="outline-2">
<h2 id="orgc9e4d36">Editing settings</h2>
<div class="outline-text-2" id="text-orgc9e4d36">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(show-paren-mode 1)
(repeat-mode 1)
</pre>
</div>
</div>
</div>

<div id="outline-container-orge493eaa" class="outline-2">
<h2 id="orge493eaa">History</h2>
<div class="outline-text-2" id="text-orge493eaa">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(savehist-mode 1)
(recentf-mode 1)
</pre>
</div>
</div>
</div>

<div id="outline-container-org9536d78" class="outline-2">
<h2 id="org9536d78">Project</h2>
<div class="outline-text-2" id="text-org9536d78">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'project)
(setq project-switch-commands
      '((project-find-file "Find file" "f")
        (project-find-regexp "Find regexp" "t")
        (project-eshell "Eshell" "e")
        (project-shell "Shell" "s")
        (magit-dispatch "Magit" "m")))
</pre>
</div>

<p>
It’s not super clear to me, but I found that using <code>project-switch-project</code> does not work as expected for all functions. This override solve the issue (it just set also the <code>default-directory</code> along with <code>project-current-directory-override</code>).
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun project-switch-project (dir)
  "\"Switch\" to another project by running an Emacs command.
The available commands are presented as a dispatch menu
made from `project-switch-commands'.

When called in a program, it will use the project corresponding
to directory DIR."
  (interactive (list (project-prompt-project-dir)))
  (let ((command (if (symbolp project-switch-commands)
                     project-switch-commands
                   (project--switch-project-command))))
    (let ((project-current-directory-override dir)
          (default-directory dir))
      (call-interactively command))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org60c7428" class="outline-2">
<h2 id="org60c7428">Autocompletion</h2>
<div class="outline-text-2" id="text-org60c7428">
<p>
Uses company package (or Corfu?)
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package company
  :config
  (global-company-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org703caa1" class="outline-2">
<h2 id="org703caa1">Modifier keys, keybindings, shortcuts</h2>
<div class="outline-text-2" id="text-org703caa1">
</div>
<div id="outline-container-org9c76a31" class="outline-3">
<h3 id="org9c76a31">Custom keybindings</h3>
<div class="outline-text-3" id="text-org9c76a31">
</div>
<div id="outline-container-org19a4c35" class="outline-4">
<h4 id="org19a4c35">For not graphical client (i.e. emacs -nw)</h4>
<div class="outline-text-4" id="text-org19a4c35">
<p>
Usually when you run Emacs in terminal (no graphic), you don't have access to the <code>Super</code> key. For this reason I redefine important Emacs standard keybindings to <code>M-x</code> and the <code>god-mode</code> toggle.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd "C-k") nil)
(global-set-key (kbd "C-k") #'execute-extended-command)
(global-set-key (kbd "C-l") nil)
(global-set-key (kbd "C-l") 'god-local-mode)
</pre>
</div>

<p>
Uses normal movements keys and <code>TAB</code> key to move through <code>isearch</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(define-key isearch-mode-map (kbd "C-p") 'isearch-repeat-backward)
(define-key isearch-mode-map (kbd "C-n") 'isearch-repeat-forward)
(define-key isearch-mode-map (kbd "&lt;tab&gt;") 'isearch-repeat-forward)
(define-key isearch-mode-map (kbd "&lt;S-tab&gt;") 'isearch-repeat-backward)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org1da2107" class="outline-3">
<h3 id="org1da2107">Modal editing (god-mode)</h3>
<div class="outline-text-3" id="text-org1da2107">
<p>
God mode vs Evil? some links (prot,systemcrafters).
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package god-mode
  :init
  (defun minemacs-god-mode-enabled ()
    (setq cursor-type 'box))
  (defun minemacs-god-mode-disabled ()
    (setq cursor-type 'bar))
  :config
  (add-hook 'god-mode-enabled-hook 'minemacs-god-mode-enabled)
  (add-hook 'god-mode-disabled-hook 'minemacs-god-mode-disabled)
  (define-key god-local-mode-map (kbd "i") #'god-local-mode)
  (define-key god-local-mode-map (kbd "u") #'undo)
  (define-key god-local-mode-map (kbd "U") #'undo-redo)
  (define-key god-local-mode-map (kbd "&gt;") #'end-of-buffer)
  (define-key god-local-mode-map (kbd "&lt;") #'beginning-of-buffer)
  (define-key god-local-mode-map (kbd "[") #'backward-paragraph)
  (define-key god-local-mode-map (kbd "]") #'forward-paragraph)
  (define-key god-local-mode-map (kbd "{") #'backward-sexp)
  (define-key god-local-mode-map (kbd "}") #'forward-sexp)
  (god-mode)
  (add-to-list 'god-exempt-major-modes 'compilation-mode)
  (add-to-list 'god-exempt-major-modes 'org-capture-mode)
  (add-to-list 'god-exempt-major-modes 'org-agenda-mode)
  (add-to-list 'god-exempt-major-modes 'elfeed-search-mode)
  (add-to-list 'god-exempt-major-modes 'elfeed-show-mode)
  )
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb979547" class="outline-3">
<h3 id="orgb979547">Translations keys</h3>
<div class="outline-text-3" id="text-orgb979547">
<p>
This can be usefull in absence of god-mode, to easily <code>C-c</code> and <code>C-x</code> via super key (great on MacOS keyboards).
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(define-key key-translation-map (kbd "s-k") (kbd "M-x"))
;;(define-key key-translation-map (kbd "s-m") (kbd "C-x"))
;;(define-key key-translation-map (kbd "s-M") (kbd "C-c"))
</pre>
</div>
</div>
</div>

<div id="outline-container-org8f6f00f" class="outline-3">
<h3 id="org8f6f00f">Which key</h3>
<div class="outline-text-3" id="text-org8f6f00f">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package which-key
  :config
  (which-key-mode 1)
  (which-key-enable-god-mode-support 1))
</pre>
</div>
</div>
</div>

<div id="outline-container-org9343f3f" class="outline-3">
<h3 id="org9343f3f">Super key</h3>
<div class="outline-text-3" id="text-org9343f3f">
<div class="org-src-container">
<pre class="src src-emacs-lisp">;; (global-set-key (kbd "s-k") #'execute-extended-command)
(global-set-key (kbd "s-n") #'god-local-mode)
(global-set-key (kbd "s-)") #'kill-this-buffer)
(global-set-key (kbd "s-j") #'switch-to-buffer)
(global-set-key (kbd "s-N") #'dired-jump)
(global-set-key (kbd "s-i") #'imenu)
(global-set-key (kbd "s-H") #'minemacs-custom-open)
(global-set-key (kbd "s-_") #'bookmark-set)
(global-set-key (kbd "s--") #'bookmark-jump)
(global-set-key (kbd "s-b") #'ibuffer)
(global-set-key (kbd "s-F") #'occur)
(global-set-key (kbd "s-r") #'repeat)
(global-set-key (kbd "s-e") #'dabbrev-expand)
(global-set-key (kbd "s-1") #'delete-other-windows)
(global-set-key (kbd "s-3") #'split-window-horizontally)
(global-set-key (kbd "s-2") #'split-window-vertically)
(global-set-key (kbd "s-0") #'delete-window)
(global-set-key (kbd "s-w") #'other-window)
(global-set-key (kbd "s-W") (lambda () (interactive) (other-window -1)))
(global-set-key (kbd "s-R") #'query-replace-regexp)
(global-set-key (kbd "s-p") #'project-switch-to-buffer)
(global-set-key (kbd "s-P") #'project-find-file)
(global-set-key (kbd "s-t") #'rgrep)
(global-set-key (kbd "s-[") #'previous-buffer)
(global-set-key (kbd "s-]") #'next-buffer)
(global-set-key (kbd "s-{") #'previous-window-any-frame)
(global-set-key (kbd "s-}") #'next-window-any-frame)
(global-set-key (kbd "s-q") #'tab-next)
(global-set-key (kbd "s-=") #'balance-windows)
(global-set-key (kbd "s-&lt;backspace&gt;") #'window-toggle-side-windows)
</pre>
</div>
</div>
</div>

<div id="outline-container-orga4c94cf" class="outline-3">
<h3 id="orga4c94cf">Hail Hydra!</h3>
<div class="outline-text-3" id="text-orga4c94cf">
<p>
Hydra package let you to easily bind custom keymaps.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package hydra
  :config
  (defhydra hydra-minemacs-appearance (:color blue)
    ("z" #'text-scale-adjust "🔍 text-scale-adjust")
    ("q" nil "🔚 quit")
    ("s-m" nil "quit"))

  (defhydra hydra-minemacs-dev-tools (:color blue)
    ("d" #'flymake-show-buffer-diagnostics "🔬 flymake diagnostic")
    ("f" #'browse-url-of-file "🌐 Open file in Browser (browse-url-of-file)")
    ("b" #'browse-url-of-buffer "🌐 Open buffer in Browser (browse-url-of-buffer)")
    ("u" #'browse-url-of-buffer "👁️ Preview in browser (browse-url-of-buffer)")
    ("q" nil "🔚 quit")
    ("s-m" nil "quit"))

  (defhydra hydra-minemacs-bookmarks (:color blue)
    ("j" #'bookmark-jump "🔖 jump")
    ("s" #'bookmark-set "⏬ set")
    ("R" #'minemacs-bookmarks-reload "🔄 reload from bookmarks file")
    ("E" #'minemacs-bookmarks-open "✏️ raw edit bookrmarks file")
    ("e" #'edit-bookmarks "📖 edit")
    ("q" nil "🔚 quit")
    ("s-m" nil "quit"))

  (defhydra hydra-minemacs-media (:color blue)
    ("t" #'empv-toggle "⏯️ empv toggle")
    ("q" nil "🔚 quit")
    ("s-m" nil "quit"))

  (defhydra hydra-minemacs-org (:color blue)
    ("a" #'org-agenda "📅 org-agenda")
    ("c" #'org-capture "🔴 org-capture")
    ("s-o" #'org-capture "🔴 org-capture")
    ("C" #'org-roam-capture "🧠 org-roam-capture")
    ("f" #'org-roam-node-find "🔍 org-roam-node-find")
    ("q" nil "🔚quit"))

  (defhydra hydra-minemacs-filesystem (:color blue)
    ("t" #'treemacs "🗃️ treemacs")
    ("s" (lambda () (interactive) (find-file "~/Desktop")) "✏️ Desktop")
    ("d" (lambda () (interactive) (find-file "~/Downloads")) "⬇️ Downloads")
    ("h" (lambda () (interactive) (find-file "~/")) "🏠 home")
    ("q" nil "🔚quit")
    ("s-m" nil "quit"))

  (defhydra hydra-minemacs-utils (:color blue)
    ("x" #'world-clock "🐚 async shell command")
    ("r" #'minemacs-utils-record "🎤 record audio")
    ("c" #'world-clock "🗺️ world clock")
    ("t" #'alarm-clock-set "⏰ set timer!")
    ("T" #'alarm-clock-list-view "📖 list timers")
    ("1" (lambda () (interactive) (alarm-clock-set "10 min" "🔥 FIRE!")) "🔥 10min")
    ("q" nil "🔚quit")
    ("s-m" nil "quit"))

  (defhydra hydra-minemacs-config (:color blue)
    ("c" (lambda () (interactive) (find-file (minemacs-config-file))) "🛠️ open config")
    ("C" (lambda () (interactive) (find-file custom-file)) "🛠️ open custom")
    ("q" nil "🔚quit")
    ("s-m" nil "quit"))

  (defhydra hydra-minemacs-mail+news (:color blue)
    ("g" #'gnus "📬 gnus")
    ("m" #'mu4e "📧 mu4e")
    ("r" #'elfeed "📰 elfeed")
    ("q" nil "🔚quit")
    ("s-m" nil "quit"))

  (defhydra hydra-minemacs-shells (:color blue)
    ("v" (lambda (&amp;optional arg) (interactive "P") (vterm arg)) "🖥️ vterm")
    ("t" #'minemacs-tmux/open "🖥️ tmux")
    ("e" #'minemacs/eshell-here "🐚 eshell (here)"))

  (defhydra hydra-minemacs-local-project (:color blue)
    ("q" nil "🔚quit")
    ("s-m" nil "quit"))

  (defhydra hydra-minemacs (:color blue)
    ("8" #'emoji-search "😁 emoji")
    ("a" #'hydra-minemacs-appearance/body "🎨 appearance")
    ("b" #'hydra-minemacs-bookmarks/body "🔖 bookmarks")
    ("m" #'hydra-minemacs-config/body "✨ minemacs")
    ("M" #'hydra-minemacs-media/body "🎥 media")
    ("d" #'hydra-minemacs-dev-tools/body "🖥️ development")
    ("n" #'hydra-minemacs-mail+news/body "📧 news+mail")
    ("e" #'eshell "🐚 eshell")
    ("w" #'eww "🌐 eww")
    ("f" #'hydra-minemacs-filesystem/body "📁 filesystem")
    ("g" #'magit-status "🐙 Magit")
    ("o" #'hydra-minemacs-org/body "📅 org")
    ("r" #'recentf "⌛recentf")
    ("s" #'hydra-minemacs-shells/body "🐚 shells")
    ("u" #'hydra-minemacs-utils/body "🔦 utils")
    ("l" #'hydra-minemacs-local-project/body "🦞 local-project")
    ("q" nil "🔚quit")
    ("s-m" nil "quit"))

  (global-set-key (kbd "C-x C-m") #'hydra-minemacs/body)
  (global-set-key (kbd "C-x j") #'execute-extended-command)
  (global-set-key (kbd "C-x J") #'god-local-mode)
  (global-set-key (kbd "s-m") (kbd "C-x C-m"))
  (global-set-key (kbd "s-o") #'hydra-minemacs-org/body))
</pre>
</div>

<p>
The main purpose of the empty hydra <code>hydra-minemacs-local-project</code> is to be defined per-project usings <code>add-dir-local-variable</code> like that can be user like this:
</p>

<pre class="example" id="orgca52ffa">
;;; Directory Local Variables            -*- no-byte-compile: t -*-
;;; For more information see (info "(emacs) Directory Variables")

((elixir-mode . ((eval . (defhydra hydra-minemacs-local-project (:color blue)
                           ("r" #'alchemist-mix-rerun-last-test "♻️ rerun test")
                           ("q" nil "🔚quit") ("s-m" nil "quit"))))))
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc02efa8" class="outline-2">
<h2 id="orgc02efa8">Bookmarks</h2>
<div class="outline-text-2" id="text-orgc02efa8">
<p>
Get the bookmarks from my Dropbox.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq bookmark-default-file "~/Dropbox/minemacs/bookmarks")
</pre>
</div>

<p>
Define some usefull functions to deal with bookmarks.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun minemacs-bookmarks-open ()
  "Open the bookmark file"
  (interactive)
  (find-file bookmark-default-file))

(defun minemacs-bookmarks-reload ()
  "Clear bookmarks, reload from bookmark-default-file"
  (interactive)
  (setq bookmark-alist nil)
  (bookmark-load bookmark-default-file))
</pre>
</div>

<p>
Define a custom jumper avoid to open always on EWW in case the bookmark was placed with it.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun minemacs/browse-url-handler-bookmark-jump (bookmark)
  "Bookmark jump handler: relies on =browse-url-handler= to pick the right browser.
  Define a custom jumper avoid to open always on EWW in case the bookmark was placed with it"
  (browse-url (bookmark-prop-get bookmark 'location)))
</pre>
</div>

<p>
Here we override the standard <code>eww-bookmark-jump</code> action, so even if we store a bookmark via eww, we're going to use the proper browser when opening it.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'eww)
(defalias 'eww-bookmark-jump 'minemacs/browse-url-handler-bookmark-jump)
;(require 'bookmark)
;(put 'minemacs/browse-url-handler-bookmark-jump 'bookmark-handler-type "browse-url-handlers")
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd2407e6" class="outline-2">
<h2 id="orgd2407e6">Web browsing</h2>
<div class="outline-text-2" id="text-orgd2407e6">
<p>
Define handlers for <code>browse-url</code>. It can be used as bookmark handler via <code>minemacs/browse-url-handler-bookmark-jump</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq browse-url-handlers '(("github" . browse-url-chrome)
                            ("youtube" . browse-url-firefox)
                            ("." . eww-browse-url)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgeb46559" class="outline-2">
<h2 id="orgeb46559">Troubleshooting</h2>
<div class="outline-text-2" id="text-orgeb46559">
</div>
<div id="outline-container-org84c1d11" class="outline-3">
<h3 id="org84c1d11">MacOS compatibility&#xa0;&#xa0;&#xa0;<span class="tag"><span class="portability">portability</span></span></h3>
<div class="outline-text-3" id="text-org84c1d11">
<p>
On MacOS there are some problem on well syncing ENVs variables.
A solution is to install the <b>exec-path-from-shell</b> package
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package exec-path-from-shell
  :config
  (exec-path-from-shell-initialize))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgb585a22" class="outline-2">
<h2 id="orgb585a22">Extra modules</h2>
<div class="outline-text-2" id="text-orgb585a22">
</div>
<div id="outline-container-org67d8551" class="outline-3">
<h3 id="org67d8551">Utils</h3>
<div class="outline-text-3" id="text-org67d8551">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package alarm-clock)
(use-package ytdl)
</pre>
</div>
</div>

<div id="outline-container-org0e7571f" class="outline-4">
<h4 id="org0e7571f">Easily record a wav file</h4>
<div class="outline-text-4" id="text-org0e7571f">
<div class="org-src-container">
<pre class="src src-elisp">(defun minemacs-utils-record (&amp;optional outfile)
  "Record using ffmpgeg"
  (interactive "fRecord audio to file: ")
  (let ((cmd (format "ffmpeg -f avfoundation -i ':default' %s" outfile)))
    (minemacs-vterm-exec cmd)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org378668f" class="outline-4">
<h4 id="org378668f">Espeak integration</h4>
<div class="outline-text-4" id="text-org378668f">
<p>
Interact with <a href="https://espeak.sourceforge.net/">eSpeak</a>.
</p>

<div class="org-src-container">
<pre class="src src-elisp">(defvar minemacs-espeak-language "it"
  "Default langauge for espeak")

(defvar minemacs-espeak-buffer
  (get-buffer-create "*Espeak*")
  "Default output buffer for espeak")

(defun minemacs-espeak-speak (sentence &amp;optional voice)
  (interactive (list
                (read-from-minibuffer "Sentence: ")
                (completing-read "Voice: " '("it" "en"))))
  (let* ((voice (or voice minemacs-espeak-language))
         (command (format "espeak -v %s '%s'" voice sentence)))
    (if (and sentence voice)
        (with-current-buffer minemacs-espeak-buffer
          (async-shell-command command minemacs-espeak-buffer)
          (insert command)))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgdd46a32" class="outline-3">
<h3 id="orgdd46a32">Email and News</h3>
<div class="outline-text-3" id="text-orgdd46a32">
</div>
<div id="outline-container-org7c5f3a6" class="outline-4">
<h4 id="org7c5f3a6">Gnus</h4>
<div class="outline-text-4" id="text-org7c5f3a6">
<pre class="example" id="org00cde99">
(setq user-mail-address "&lt;EMAIL_ADDRESS&gt;"
      user-full-name "&lt;FULL NAME&gt;"
      user-login-name "&lt;LOGIN_NAME_USUALLY_THE_SAME_AS_EMAIL_ADDRESS&gt;"
      mml-secure-openpgp-signers '("YOUR KEY ID")
      auth-sources '("~/.authinfo.gpg")
      gnus-startup-file "~/.newsrc"
      gnus-select-method '(nnimap "gmail"
				  (nnimap-address "imap.example.com")  ; it could also be imap.googlemail.com if that's your server.
				  (nnimap-server-port "imaps")
				  (nnimap-stream ssl))
      message-send-mail-function 'smtpmail-send-it
      send-mail-function 'smtpmail-send-it
      smtpmail-smtp-server "smtp.example.com"
      smtpmail-smtp-service 587 ; or 465
      smtpmail-stream-type 'starttls
      gnus-ignored-newsgroups "^to\\.\\|^[0-9. ]+\\( \\|$\\)\\|^[\"]\"[#'()]")
</pre>


<p>
A problem with Gnus as email client is that it always hide readed messages. A way to always show them could be by customizing the group parameters (follow this <a href="https://emacs.stackexchange.com/questions/55334/gnus-inbox-display-read-and-unread-emails">SO thread</a>).
</p>

<blockquote>
<p>
Type <code>G-c</code> over the folder and search for 'Permanently visible'. Tick the checkbox next to that and press [done].
</p>
</blockquote>
</div>
</div>

<div id="outline-container-org90e78a9" class="outline-4">
<h4 id="org90e78a9">Elfeed</h4>
<div class="outline-text-4" id="text-org90e78a9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package elfeed)
(use-package elfeed-tube :after elfeed)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-elisp">(run-at-time "15 minutes" t #'elfeed-update)
</pre>
</div>
</div>
</div>
<div id="outline-container-orgaf7a6b5" class="outline-4">
<h4 id="orgaf7a6b5">Mu4e</h4>
<div class="outline-text-4" id="text-orgaf7a6b5">
<p>
Firstly, install <code>mu</code> and a MailBox &lt;-&gt; Imaps syncronizer like <code>mbsync</code>. You should also rely on <code>pass</code>, the <a href="https://www.passwordstore.org/">the standard unix password manager</a>, in order to store and fetch your passwords in a secure way.
</p>

<p>
Useful links at:
</p>
<ul class="org-ul">
<li><a href="http://frostyx.cz/posts/synchronize-your-2fa-gmail-with-mbsync">http://frostyx.cz/posts/synchronize-your-2fa-gmail-with-mbsync</a></li>
<li><a href="https://isync.sourceforge.io/mbsync.html">https://isync.sourceforge.io/mbsync.html</a></li>
</ul>

<pre class="example" id="org8295689">
IMAPAccount email-service-imaps
#Host export.imap.mail.email-service.com
Host imap.mail.email-service.com
Port 993
#UseIMAPS yes
#RequireSSl yes
SSLType IMAPS
SSLVersions TLSv1.2
AuthMechs PLAIN
User username@email-service.com
#Pass supercomplicatedpassword
PassCmd "pass my-imaps"

IMAPStore email-service-remote
Account email-service-imaps

MaildirStore email-service-local
Path ~/MailDir/email-service/
Inbox ~/MailDir/email-service/INBOX
Subfolders Verbatim

Channel email-service
#Master :email-service-remote:
#Slave :email-service-local:
Far :email-service-remote:
Near :email-service-local:
Create Both
Expunge Both
Patterns *
#Patterns * !"[Gmail]/All Mail" !"[Gmail]/Important" !"[Gmail]/Starred" !"[Gmail]/Bin"
SyncState *
</pre>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'mu4e)
</pre>
</div>

<p>
To set multiple accounts within <code>mu4e</code> you have to set the <code>mu4e-contexts</code> variable. An interesting screencast/article from System Crafters about that can be found <a href="https://systemcrafters.net/emacs-mail/managing-multiple-accounts/">here</a>.
</p>

<pre class="example" id="org1c3adb2">
(setq mu4e-contexts
      (list
       ;; Work account
       (make-mu4e-context
        :name "GMail"
        :match-func
        (lambda (msg)
          (when msg
            (string-prefix-p "/Gmail" (mu4e-message-field msg :maildir))))
        :vars '((user-mail-address . "my-email@gmail.com")
                (user-full-name    . "My-Email (Gmail)")
                (mu4e-drafts-folder  . "/Gmail/[Gmail]/Drafts")
                (mu4e-sent-folder  . "/Gmail/[Gmail]/Sent Mail")
                (mu4e-refile-folder  . "/Gmail/[Gmail]/All Mail")
                (mu4e-trash-folder  . "/Gmail/[Gmail]/Trash")))

       ;; Personal account
       (make-mu4e-context
        :name "Yahoo"
        :match-func
        (lambda (msg)
          (when msg
            (string-prefix-p "/Yahoo" (mu4e-message-field msg :maildir))))
        :vars '((user-mail-address . "my-email@yahoo.com")
                (user-full-name    . "My-Email (Yahoo)")
                (mu4e-drafts-folder  . "/Yahoo/Drafts")
                (mu4e-sent-folder  . "/Yahoo/Sent")
                (mu4e-refile-folder  . "/Yahoo/Archive")
                (mu4e-trash-folder  . "/Yahoo/Trash")))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org21871d7" class="outline-3">
<h3 id="org21871d7">Multimedia</h3>
<div class="outline-text-3" id="text-org21871d7">
</div>

<div id="outline-container-orgbbe0f90" class="outline-4">
<h4 id="orgbbe0f90">Bongo</h4>
<div class="outline-text-4" id="text-orgbbe0f90">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package bongo)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd149f6f" class="outline-4">
<h4 id="orgd149f6f">Empv</h4>
<div class="outline-text-4" id="text-orgd149f6f">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package empv)
</pre>
</div>
</div>
</div>

<div id="outline-container-org4d13a39" class="outline-4">
<h4 id="org4d13a39">Emms</h4>
<div class="outline-text-4" id="text-org4d13a39">
<p>
<a href="https://www.youtube.com/watch?v=kII413hkyis&amp;list=WL&amp;index=1">Here's a good video about that</a>.
</p>

<div class="org-src-container">
<pre class="src src-elisp">(use-package emms
  :custom
  (emms-player-list '(emms-player-mpv)))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org767f917" class="outline-3">
<h3 id="org767f917">IDE</h3>
<div class="outline-text-3" id="text-org767f917">
</div>

<div id="outline-container-org8bb5b55" class="outline-4">
<h4 id="org8bb5b55">Versioning with Magit</h4>
<div class="outline-text-4" id="text-org8bb5b55">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package magit
  :bind
  (("C-x g" . #'magit-status))
  :config
  (transient-append-suffix 'magit-rebase "-d" '("-D" "Ingore date" "--ignore-date"))
  (transient-append-suffix 'magit-rebase "-r" '("-A" "Set Author" "--author")))
(use-package sqlite3)
(use-package forge
  :after magit)
</pre>
</div>
</div>
</div>

<div id="outline-container-orga9a988c" class="outline-4">
<h4 id="orga9a988c">Languages support</h4>
<div class="outline-text-4" id="text-orga9a988c">
</div>
<ul class="org-ul">
<li><a id="org0e03eb1"></a>Language server protocol<br />
<div class="outline-text-5" id="text-org0e03eb1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package lsp-mode
  :hook
  (ruby-mode . lsp)
  (yaml-mode . lsp)
  (js-mode . lsp)
  (json-mode . lsp)
  (scss-mode . lsp)
  (css-mode . lsp)
  (elixir-mode . lsp)
  (less-css-mode . lsp))

(use-package lsp-ui
  :after lsp-mode)
</pre>
</div>
</div>
</li>

<li><a id="org73076de"></a>Markup languages (YAML, CSV)<br />
<div class="outline-text-5" id="text-org73076de">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package yaml-mode
  :custom
  (yaml-imenu-generic-expression "^\\(:?[a-zA-Z_-]+\\):" 1))

(use-package csv-mode)
</pre>
</div>
</div>
</li>

<li><a id="orgb80f18c"></a>W3: HTML and Javascript<br />
<div class="outline-text-5" id="text-orgb80f18c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package web-mode
  :custom
  (web-mode-code-indent-offset 2)
  (web-mode-css-indent-offset 2)
  (web-mode-markup-indent-offset 2)
  (js-indent-level 2)
  (css-indent-offset 2)
  :config
  (add-to-list 'auto-mode-alist '("\\.phtml\\'" . web-mode))
  (add-to-list 'auto-mode-alist '("\\.tpl\\.php\\'" . web-mode))
  (add-to-list 'auto-mode-alist '("\\.[agj]sp\\'" . web-mode))
  (add-to-list 'auto-mode-alist '("\\.as[cp]x\\'" . web-mode))
  (add-to-list 'auto-mode-alist '("\\.erb" . web-mode))
  (add-to-list 'auto-mode-alist '("\\.mustache\\'" . web-mode))
  (add-to-list 'auto-mode-alist '("\\.djhtml\\'" . web-mode))
  (add-to-list 'auto-mode-alist '("\\.rest\\'" . restclient-mode)))

(use-package js2-mode
  :config
  (add-to-list 'auto-mode-alist '("\\.js\\'" . js2-mode)))

(use-package emmet-mode
  :after web-mode
  :hook
  (sgml-mode . emmet-mode)
  (html-mode . emmet-mode)
  (web-mode . emmet-mode)
  (css-mode . emmet-mode))
</pre>
</div>
</div>
</li>

<li><a id="org240e0a9"></a>Elixir<br /></li>
<li><a id="org40f5897"></a>Docker<br />
<div class="outline-text-5" id="text-org40f5897">
<div class="org-src-container">
<pre class="src src-elisp">(use-package docker)
</pre>
</div>
</div>
</li>

<li><a id="orgfe0bf9f"></a>Elixir Major mode<br />
<div class="outline-text-5" id="text-orgfe0bf9f">
<p>
Install also the standard <code>elixir-mode</code> and the package to manage <code>exunit</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package elixir-mode)
(use-package exunit
  :after 'elixir-mode)
(use-package alchemist)
</pre>
</div>

<p>
But it seems <code>Alchemist</code> is old and unmaintained. I've then found <code>Apprentice</code> package (a fork of <code>Alchemist</code>) following the <a href="https://github.com/Sasanidas/Apprentice/blob/master/doc/installation.md">documentation</a>; first of all, download the repo:
</p>

<div class="org-src-container">
<pre class="src src-sh">git clone https://github.com/Sasanidas/Apprentice ~/.emacs.d/vendor/apprentice.el
</pre>
</div>

<p>
Then load the package
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'load-path "~/.emacs.d/vendor/apprentice.el/")
(require 'apprentice)
</pre>
</div>
</div>
</li>

<li><a id="orgdcc5ea2"></a>Ruby<br />
<div class="outline-text-5" id="text-orgdcc5ea2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package ruby-mode)
(use-package bundler)
(use-package rspec-mode
  :config
  (add-hook 'after-init-hook 'inf-ruby-switch-setup)
  (add-hook 'compilation-filter-hook #'inf-ruby-auto-enter)
  ;;(eval-after-load 'rspec-mode '(rspec-install-snippets))
  (setq comint-scroll-to-bottom-on-output t))

(use-package rinari
  :config
  (defalias 'rake 'rinari-rake))
</pre>
</div>
</div>
</li>
</ul>
</div>

<div id="outline-container-orgcb8d45f" class="outline-4">
<h4 id="orgcb8d45f">autoinsert.el</h4>
<div class="outline-text-4" id="text-orgcb8d45f">
<p>
This part is not tangled and is <b>WIP</b>
Studying <code>autoinsert</code> since is Emacs built-in libray, it could replace <a href="#orgdfb0a84">Yasnippet</a> in the future?
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'autoinsert)
(setq auto-insert-mode t
      auto-insert-directory "~/Dropbox/minemacs/autoinsert/")
(add-hook 'find-file-hook 'auto-insert)
(add-to-list 'auto-insert-alist '(org-mode . "template.org"))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga3adb2e" class="outline-4">
<h4 id="orga3adb2e">Terminal emulator</h4>
<div class="outline-text-4" id="text-orga3adb2e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package vterm
  :after god-mode
  :config
  (add-to-list 'god-exempt-major-modes 'vterm-mode)

  (defun minemacs-tmux/open ()
    (interactive)
    (with-current-buffer (vterm "*&lt;tmux&gt;*")
      (vterm-send-string "tmux attach\n")))

  (defun minemacs-vterm-exec (command)
    (interactive "sCommand: ")
    (let ((buffer-name (format "*vterm-exec &lt;%s&gt;*" command)))
      (with-current-buffer (vterm buffer-name)
        (vterm-send-string (format "%s\n" command))))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdfb0a84" class="outline-4">
<h4 id="orgdfb0a84">Yasnippet</h4>
<div class="outline-text-4" id="text-orgdfb0a84">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package yasnippet
  :config
  (defun minemacs/autoinsert-yas-expand()
    "Replace text in yasnippet template."
    (yas/expand-snippet (buffer-string) (point-min) (point-max)))

  (add-to-list 'yas-snippet-dirs "~/Dropbox/minemacs/snippets/")
  ;; (require 'autoinsert)
  ;; (add-to-list 'auto-insert-alist '(org-mode . ["template.org" org-mode minemacs/autoinsert-yas-expand]))

  (yas-global-mode 1))

(use-package yasnippet-snippets
  :after 'yasnippet)
</pre>
</div>
</div>
</div>

<div id="outline-container-org16e91d2" class="outline-4">
<h4 id="org16e91d2">Docker</h4>
<div class="outline-text-4" id="text-org16e91d2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package docker)
</pre>
</div>
</div>
</div>

<div id="outline-container-org3f4d0d0" class="outline-4">
<h4 id="org3f4d0d0">Treemacs</h4>
<div class="outline-text-4" id="text-org3f4d0d0">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package treemacs)
(use-package treemacs-nerd-icons
  :after treemacs)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org9daf86a" class="outline-3">
<h3 id="org9daf86a">Appearance</h3>
<div class="outline-text-3" id="text-org9daf86a">
</div>
<div id="outline-container-org1075ac3" class="outline-4">
<h4 id="org1075ac3">Doom modeline</h4>
<div class="outline-text-4" id="text-org1075ac3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package doom-themes)
(use-package nerd-icons)
(use-package doom-modeline
  :after 'nerd-icons
  :init
  (doom-modeline-mode 1))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org26e6291" class="outline-3">
<h3 id="org26e6291">Consult</h3>
<div class="outline-text-3" id="text-org26e6291">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package consult
  :bind
  (("s-j" . consult-buffer)
   ("s-i" . consult-imenu-multi)
   ("s-l" . consult-history)
   ("s-I" . consult-outline)
   ("s-f" . consult-line)
   ("s-T" . consult-grep)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org05f0f3f" class="outline-3">
<h3 id="org05f0f3f">Internet</h3>
<div class="outline-text-3" id="text-org05f0f3f">
</div>

<div id="outline-container-orgc340f9b" class="outline-4">
<h4 id="orgc340f9b">Gemini</h4>
<div class="outline-text-4" id="text-orgc340f9b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package gemini-mode)
(use-package elpher)
</pre>
</div>
</div>
</div>

<div id="outline-container-org3fbf45a" class="outline-4">
<h4 id="org3fbf45a">engine-mode</h4>
<div class="outline-text-4" id="text-org3fbf45a">
<p>
This code is going to patch a function from <code>engine.el</code>: <code>browse-url</code> is going to check <code>browse-url-handlers</code> first, and if it's defined is not going to invoke <code>browse-url-defauult-function</code>, so if we want to enable a browser-specific engine (with <code>:browser</code> keyword), we have to nullify <code>browse-url-handlers</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package engine-mode
  :config
  (defun engine/execute-search (search-engine-url browser-function search-term)
    "Display the results of the query."
    (interactive)
    (let ((browse-url-handlers nil)
          (browse-url-browser-function browser-function))
      (browse-url
       (format-spec search-engine-url
                    (format-spec-make ?s (url-hexify-string search-term)))))))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package engine-mode
  :init
  (setq engine/browser-function #'browse-url-firefox)
  :config
  (defengine duckduckgo
    "https://duckduckgo.com/?q=%s"
    :browser 'eww-browse-url
    :keybinding "d")

  (defengine github
    "https://github.com/search?ref=simplesearch&amp;q=%s"
    :keybinding "h")

  (defengine google
    "https://www.google.com/search?ie=utf-8&amp;oe=utf-8&amp;q=%s"
    :browser 'browse-url-firefox
    :keybinding "g")

  (defengine google-images
    "https://www.google.com/images?hl=en&amp;source=hp&amp;biw=1440&amp;bih=795&amp;gbv=2&amp;aq=f&amp;aqi=&amp;aql=&amp;oq=&amp;q=%s"
    :keybinding "i")

  (defengine google-maps
    "https://maps.google.com/maps?q=%s"
    :docstring "Google Maps"
    :keybinding "m")

  (defengine google-maps
    "https://www.openstreetmap.org/search?query=%s"
    :docstring "OpenStreetMap"
    :keybinding "M")

  (defengine google-translate-to-it
    "https://translate.google.it/?sl=auto&amp;tl=it&amp;text=%s&amp;op=translate"
    :docstring "Translate to IT"
    :keybinding "t")

  (defengine google-translate-to-en
    "https://translate.google.it/?sl=it&amp;tl=en&amp;text=%s&amp;op=translate"
    :docstring "Translate from IT to English"
    :browser 'browse-url-firefox
    :keybinding "T")

  (defengine stack-overflow
    "https://stackoverflow.com/search?q=%s"
    :keybinding "s")

  (defengine wikipedia
    "https://www.wikipedia.org/search-redirect.php?language=it&amp;go=Go&amp;search=%s"
    :keybinding "w"
    :docstring "Searchin' the wikis."
    :browser 'eww-browse-url)

  (defengine youtube
    "https://www.youtube.com/results?aq=f&amp;oq=&amp;search_query=%s"
    :keybinding "y")

  (engine-mode t))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org4ec03f6" class="outline-3">
<h3 id="org4ec03f6">Load modules!</h3>
<div class="outline-text-3" id="text-org4ec03f6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq minemacs-modules-file (or (getenv "MINEMACS_MODULES_FILE") (concat user-emacs-directory "modules.el")))
(setq minemacs-active-modules nil)
(load minemacs-modules-file 'noerror)
</pre>
</div>

<p>
Don't tangle the <code>modules.el</code> file if it already exists with the tangle option <code>:tangle (let ((modules-file (concat user-emacs-directory "modules.el"))) (if (file-exists-p modules-file) "no" modules-file))</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq minemacs-active-modules '(blorg consult utils ide mail-news doom net private))
(mapcar
 (lambda (module)
   (load
    (format "%smodules/%s.el" user-emacs-directory module)
    'noerror))
 minemacs-active-modules)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge332cab" class="outline-2">
<h2 id="orge332cab">Custom file</h2>
<div class="outline-text-2" id="text-orge332cab">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq custom-file (or (getenv "MINEMACS_PROFILE") "~/Dropbox/minemacs/custom.el"))
(load custom-file 'noerror)
</pre>
</div>
</div>
</div>

<div id="outline-container-org6fa0dda" class="outline-2">
<h2 id="org6fa0dda">Server mode</h2>
<div class="outline-text-2" id="text-org6fa0dda">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(server-start)
</pre>
</div>
</div>
</div>

<div id="outline-container-org6fc5c2f" class="outline-2">
<h2 id="org6fc5c2f">Docs</h2>
<div class="outline-text-2" id="text-org6fc5c2f">
</div>
<div id="outline-container-orgfbf65e5" class="outline-3">
<h3 id="orgfbf65e5">Regular Expression Syntax</h3>
<div class="outline-text-3" id="text-orgfbf65e5">
<p>
Here is the syntax used by Emacs for regular expressions. Any character matches itself, except for the list below.
</p>

<p>
The following characters are special : . * + ? ^ $ \ [
</p>

<p>
Between brackets [], the following are special : ] - ^
</p>

<p>
Many characters are special when they follow a backslash – see below.
</p>

<p>
.        any character (but newline)
</p>
<ul class="org-ul">
<li>previous character or group, repeated 0 or more time</li>
<li>previous character or group, repeated 1 or more time</li>
</ul>
<p>
  ?        previous character or group, repeated 0 or 1 time
  ^        start of line
  $        end of line
  [&#x2026;]    any character between brackets
  [^..]    any character not in the brackets
  [a-z]    any character between a and z
  \        prevents interpretation of following special char
  \|       or
  \w       word constituent
  \b       word boundary
  \sc      character with c syntax (e.g. \s- for whitespace char)
  \( \)    start\end of group
  \&lt; \&gt;    start\end of word
  \_&lt; \_&gt;  start\end of symbol
  \` \'    start\end of buffer\string
  \1       string matched by the first group
  \n       string matched by the nth group
  \{3\}    previous character or group, repeated 3 times
  \{3,\}   previous character or group, repeated 3 or more times
  \{3,6\}  previous character or group, repeated 3 to 6 times
  \=       match succeeds if it is located at point
*?, +?, and ?? are non-greedy versions of *, +, and ? – see NonGreedyRegexp. Also, \W, \B, and \Sc match any character that does not match \w, \b, and \sc.
</p>

<p>
Characters are organized by category. Use C-u C-x = to display the category of the character under the cursor.
</p>

<p>
  \ca      ascii character
  \Ca      non-ascii character (newline included)
  \cl      latin character
  \cg      greek character
Here are some syntax classes that can be used between brackets, e.g. [[:upper:]\|[:digit:]\.].
</p>

<p>
  [:digit:]  a digit, same as [0-9]
  [:alpha:]  a letter (an alphabetic character)
  [:alnum:]  a letter or adigit (an alphanumeric character ()
  [:upper:]  a letter in uppercase
  [:space:]  a whitespace character, as defined by the syntax table
  [:xdigit:] an hexadecimal digit
  [:cntrl:]  a control character
  [:ascii:]  an ascii character
Syntax classes:
</p>

<p>
\s-   whitespace character        \s/   character quote character
\sw   word constituent            \s$   paired delimiter
\s_   symbol constituent          \s'   expression prefix
\s.   punctuation character       \s&lt;   comment starter
\s(   open delimiter character    \s&gt;   comment ender
\s)   close delimiter character   \s!   generic comment delimiter
\s"   string quote character      \s|   generic string delimiter
\s\   escape character
</p>
</div>
</div>

<div id="outline-container-org281de90" class="outline-3">
<h3 id="org281de90">Vectors</h3>
<div class="outline-text-3" id="text-org281de90">
<p>
Get an element from a vector
</p>

<pre class="example" id="orgca41041">
;; get a element from vector
(aref ["a" "b" "c"] 0) ; ⇒ "a"
;; get a element from vector
(elt ["a" "b" "c"] 0) ; ⇒ "a"
</pre>

<p>
What's the difference between <code>aref</code> and <code>elt</code>?
<code>elt</code> is more general. It works on vector and list. But if you know
it's vector, you should use <code>aref</code>, because it's precise and faster.
</p>
</div>
</div>

<div id="outline-container-org9eedf06" class="outline-3">
<h3 id="org9eedf06">Timers</h3>
<div class="outline-text-3" id="text-org9eedf06">
<p>
You can run specified function at specified time and with a specific timeout! Check out <a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Timers.html">the doc</a> for more information.
</p>

<blockquote>
<p>
The list-timers command lists all the currently active timers. There’s
only one command available in the buffer displayed: c
(timer-list-cancel) that will cancel the timer on the line under
point.
</p>
</blockquote>
</div>
</div>

<div id="outline-container-orgdaf426c" class="outline-3">
<h3 id="orgdaf426c">(interactive) functions</h3>
<div class="outline-text-3" id="text-orgdaf426c">
<p>
Refs to <a href="https://emacs.stackexchange.com/questions/32248/how-to-write-a-function-with-an-interactive-choice-of-the-value-of-the-argument">this SO post</a> try <a href="(completing-read "Prompt: " '(i1 i2 i3))">(completing-read "Prompt: " '(i1 i2 i3))</a> and <a href="https://emacsdocs.org/docs/elisp/Text-from-Minibuffer">this post</a>; try <a href="(read-from-minibuffer "Prompt: " "initial")">(read-from-minibuffer "Prompt: " "initial")</a>. Take a look at <code>minemacs/demo-function</code>, it can help if you want to write functions with bit more complex interactive prompts.
</p>

<pre class="example" id="orgee3f440">
(defun minemacs/demo-function (url &amp;optional handler)
  "Example function."
  (interactive (list
		(read-from-minibuffer "URL: ")
		(completing-read "handler: " '(browse-url-firefox browse-url-chrome))))
   (message (format "url: %s, handler: %s" url handler )))
</pre>
</div>
</div>
<div id="outline-container-org45c21bc" class="outline-3">
<h3 id="org45c21bc">Buffer management</h3>
<div class="outline-text-3" id="text-org45c21bc">
<p>
Code stolen from <a href="https://stackoverflow.com/questions/4886745/emacs-what-is-the-shortcut-key-to-clear-buffer">stackoverflow</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun minemacs-clear-buffer ()
  "clear whole buffer add contents to the kill ring"
  (interactive)
  (kill-region (point-min) (point-max)))

(defun minemacs-clear-buffer-permenantly ()
  "clear whole buffer, contents is not added to the kill ring"
  (interactive)
  (delete-region (point-min) (point-max)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org44e79dd" class="outline-3">
<h3 id="org44e79dd">Commands, functions and variables</h3>
<div class="outline-text-3" id="text-org44e79dd">
<p>
Just press <code>C-h o</code> to get help on those symbols.
</p>

<ul class="org-ul">
<li><code>align-regexp</code></li>
<li><code>add-file-local-variable</code> (append at bottom of the file) and <code>add-file-local-variable-prop-line</code> (prepend in the first line)</li>
<li><code>browse-url-of-buffer</code></li>
<li><code>completions-max-height</code></li>
<li><code>find-name-dired</code></li>
<li><code>json-pretty-print-buffer</code></li>
<li><code>org-archive-subtree-default</code></li>
<li><code>org-babel-load-file</code></li>
<li><code>pp-eval-expression</code></li>
<li><code>proced</code></li>
</ul>
</div>
</div>

<div id="outline-container-org12196a2" class="outline-3">
<h3 id="org12196a2">Libaries</h3>
<div class="outline-text-3" id="text-org12196a2">
<ul class="org-ul">
<li><a href="https://tkf.github.io/emacs-request/">request.el</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgac9cc0f" class="outline-3">
<h3 id="orgac9cc0f">Useful topics</h3>
<div class="outline-text-3" id="text-orgac9cc0f">
<ul class="org-ul">
<li><a href="https://orgmode.org/manual/Results-of-Evaluation.html">Results of Evaluation</a></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org6b8853c" class="outline-2">
<h2 id="org6b8853c">Credits</h2>
<div class="outline-text-2" id="text-org6b8853c">
<p>
I would like to thanks:
</p>
<ul class="org-ul">
<li><a href="https://www.gnu.org/software/emacs/">The Emacs editor</a> and his <b>guru</b> <a href="https://stallman.org/">Richard Stallman</a>.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/pdf/emacs-lisp.pdf">The Elisp documentation</a></li>
<li><a href="http://kelvinh.github.io/">Kelvin Hu</a> for his <a href="https://github.com/kelvinh/.emacs.d">emacs configuration</a> and the idea to write it in a <b>literate style</b>.</li>
<li><a href="http://www.howardism.org/">Howard Abrams</a> for his <a href="https://github.com/howardabrams/dot-files">dotfiles</a>.</li>
<li><a href="https://github.com/aaronbieber">Aaron Bieber</a> for his dotfiles and for the wonderful speech <a href="https://www.youtube.com/watch?v%3DJWD1Fpdd4Pc">Evil Mode: Or, How I Learned to Stop Worrying and Love Emacs</a> that makes me <b>fall in love</b> with Emacs. ;-)</li>
<li><a href="https://protesilaos.com/">Protesilaos Stavrou</a> for his <a href="https://protesilaos.com/dotemacs/">comprehensive "dotemacs" (.emacs) for GNU/Linux</a> and <a href="https://protesilaos.com/codelog/">the huge amount of posts and videos about Emacs</a>.</li>
<li><a href="https://github.com/sponsors/daviwil">David Wilson</a> for his fantastic <a href="https://www.youtube.com/channel/UCAiiOTio8Yu69c3XnR7nQBQ">System Crafters screencasts</a>!</li>
<li><a href="http://staff.science.uva.nl/~dominik/">Carsten Dominik</a>, creator of <a href="http://orgmode.org">org-mode</a> 🦄 also thanks to <a href="https://orgmode.org/worg/">worg</a> 🌈</li>
<li><a href="https://gitlab.com/spudlyo">Mike Hamrick</a> for <a href="https://gitlab.com/spudlyo/orgdemo2">orgdemo2</a> which is really useful if you want learn a lot of stuff about <code>org-mode</code>.</li>
<li><a href="http://ehneilsen.net">Eric H. Neilsen, Jr.</a> for his wonderful  <a href="http://ehneilsen.net/notebook/orgExamples/org-examples.html">org-mode examples and cookbook</a>.</li>
<li><a href="https://www.omarpolo.com/">Omar Polo</a> and <a href="https://ict4g.net/adolfo/index.html">Adolfo Villafiorita</a></li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2023-07-15 Sat 00:00</p>
<p class="creator"><a href="https://www.gnu.org/software/emacs/">Emacs</a> 29.2 (<a href="https://orgmode.org">Org</a> mode 9.6.15)</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
